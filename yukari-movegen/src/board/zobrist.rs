use crate::{square::File, Colour, Piece, Square};

// A big thank-you to @87flowers@mk.absturztau.be for understanding the math behind BCH codes.
//
// Her generator can be found here: https://git.transistor.house/87/bch

#[allow(clippy::unreadable_literal)]
static PIECE: [[[u64; 64]; 6]; 2] = [
    [
        // White Pawn
        [
            0x173A8C53E5190231,
            0x7DBC5ED91642731A,
            0x76A063D610F1A993,
            0x4069FED5D8252906,
            0x3ECD82C09D1BD048,
            0x79EFCDD3BA22DC9B,
            0x3399537CD6FB5183,
            0x2BA89BE4A7C3E82E,
            0x21AAC47750730AF1,
            0x068570BB88940F04,
            0x68570BB88940F040,
            0x2601AE28A70BCC39,
            0x7C33D544FF186384,
            0x6E58DA088550A073,
            0x46FCB528660ECF09,
            0x57993D1B7FA5B0B8,
            0x4FD525CDA2C01BA2,
            0x420A7EB490A1D20D,
            0x18F584D4155460F8,
            0x06469B55B17D778F,
            0x6469B55B17D778F0,
            0x62E00DE2ED9A6F3C,
            0x0A7B867D494B13FC,
            0x20B22A27375817C5,
            0x170B95BDFA25DC44,
            0x7EADC038E58F944A,
            0x47B98DC92C2FDC93,
            0x43CAB30FDDB48918,
            0x04F95F60C401D1A8,
            0x4F95F60C401D1A80,
            0x460742AABD71C02D,
            0x58264536C85542F8,
            0x3328EAE57E2617A7,
            0x20B3027E2A178A6E,
            0x1719102C2EDC06F4,
            0x7F859925AA123F4A,
            0x553C1C1DD5F56C93,
            0x658735A707CDD912,
            0x7C080223EC30711C,
            0x6DE5AC79B7D189F3,
            0x7D2BD23B4E1C5709,
            0x7FD8ADF39513E8A3,
            0x50EF517E25E81203,
            0x38B3E398061A3012,
            0x1E09D85A0A3CD93B,
            0x698353B447F6EBBF,
            0x3B442EE44C6A73C9,
            0x21750F9EAD38E48B,
            0x0B79CE245C2AE8A4,
            0x3096AFB66147A245,
            0x1B57574FDC0CD44E,
            0x3C6BA2E924F63CEF,
            0x538DCF4824FC16EB,
            0x0E9A00F8175A7E92,
            0x6EAA4272D64EC125,
            0x49D5328D57E8DA69,
            0x220B0ABBC22DCEBD,
            0x3C999C72AD784BC4,
            0x5CAE26F0BC1B645B,
            0x7BAED6823AC47D97,
            0x1788E664D8914143,
            0x769AFDAACEC6443A,
            0x43C019183B5BF396,
            0x0453FE1EAAF67948,
        ],
        // White Knight
        [
            0x2E7518A7CA320462,
            0x7C72F0418F6DCE31,
            0x6A4A8A5F820A7B23,
            0x07D9B05813A37A09,
            0x7D9B05813A37A090,
            0x74D5D654D7AC9133,
            0x6732A6F9ADF6A306,
            0x575137C94F87D05C,
            0x435588EEA0E615E2,
            0x0D0AE17711281E08,
            0x57A45A82B168C885,
            0x4C035C514E179872,
            0x7F6DE77A5DD9EF0D,
            0x5BBBF9E2A94868E3,
            0x0AF327A36FF4B617,
            0x283837C55CA24975,
            0x18A00668E6691F41,
            0x031EB09A82AA8C1F,
            0x31EB09A82AA8C1F0,
            0x0C8D36AB62FAEF1E,
            0x4FD927458C47D9E5,
            0x42CA563678DDF67D,
            0x14F70CFA929627F8,
            0x4164544E6EB02F8A,
            0x2E172B7BF44BB888,
            0x7A51CD8268F60091,
            0x08795661FBB69123,
            0x009F2BEC18803A35,
            0x09F2BEC18803A350,
            0x1821A1EB23D31D05,
            0x0B04C8A6D90AA85F,
            0x3746C79E3343ADF5,
            0x6651D5CAFC4C2F4E,
            0x416604FC542F14DC,
            0x2E3220585DB80DE8,
            0x78017FB8F7CD5691,
            0x2D7275C80803F123,
            0x4C0426BDAC729A21,
            0x7F1A49B47B89CA3D,
            0x5CC11500CC4A3BE3,
            0x7D5DE9853FD18617,
            0x78BB161489CEF943,
            0x26D4EF0FE8390C03,
            0x7167C7300C346024,
            0x3C13B0B41479B276,
            0x540CEA9B2C04FF7B,
            0x76885DC898D4E792,
            0x42EA1F3D5A71C916,
            0x16F39C48B855D148,
            0x612D5F6CC28F448A,
            0x36AEAE9FB819A89C,
            0x78D745D249EC79DE,
            0x2011D363EA1105D3,
            0x1D3401F02EB4FD24,
            0x5A5EC9160F74AA4F,
            0x14A028E90C389CD7,
            0x44161577845B9D7A,
            0x793338E55AF09788,
            0x3E560012DBDFE0B3,
            0x7057E0F7D661D32B,
            0x2F11CCC9B1228286,
            0x6A3FB6A63E65A071,
            0x008A7FC3D55ECF29,
            0x08A7FC3D55ECF290,
        ],
        // White Bishop
        [
            0x394F94F42F2B0653,
            0x01CEAE98992FBD2B,
            0x1CEAE98992FBD2B0,
            0x47B04E8DCB86530F,
            0x43568741A72C70D8,
            0x0D3A1B876D8E4DA8,
            0x54ABF5857B0DF285,
            0x7CF9AC2DE8443872,
            0x62FF4C99F0951F13,
            0x0B8F91CC99BC110C,
            0x3FF3513A382838C5,
            0x6A02F279E91C544B,
            0x035E323EA2C18C89,
            0x35E323EA2C18C890,
            0x4C0F928B09FA791E,
            0x7FA10ADE2307F9CD,
            0x577523A544A904E3,
            0x4114CE2E120B5E12,
            0x291E8D7C3FFCA108,
            0x0ACBADFED3879891,
            0x2BB0921E9B90A115,
            0x202A5BD495479941,
            0x1E8C8A87DBDD3404,
            0x61D67E6959E8384F,
            0x391CBEC60E6E64CC,
            0x04FC0DBA8D7994DB,
            0x4FC0DBA8D7994DB0,
            0x435598E3C534B32D,
            0x0D0BE1A14C0272F8,
            0x57B457E763CE0785,
            0x4D038A0C647B6872,
            0x6F6082A8FB16EF0D,
            0x55793F2F826A38E9,
            0x61D506827E389EB2,
            0x392B307473640B1C,
            0x0784E69D5DDF69DB,
            0x784E69D5DDF69DB0,
            0x2983131AABBF4333,
            0x03124B9797B9BB21,
            0x3124B9797B9BB210,
            0x00763BBE71CDD11E,
            0x0763BBE71CDD11E0,
            0x763BBE71CDD11E00,
            0x49D424A80A2E5036,
            0x221A68EE1E456B4D,
            0x3D8FB92F6BF214C4,
            0x4DCC732CD4BE945B,
            0x639F10A3F7492D9D,
            0x1D8A526CE47F39EC,
            0x51BBF0DAA3C8E6CF,
            0x2DF9F9D064157CD2,
            0x44BCE73B6D1A4531,
            0x739C1C2BCEED1338,
            0x13AE010839EE83B6,
            0x34F48B64D93A6B6A,
            0x5D751A645BD046BE,
            0x661D1FCC467653C7,
            0x45AAA497F788DC4C,
            0x62F826E267C484E8,
            0x0BF93675ECA5AEBC,
            0x38992AAD69B3C3C5,
            0x1CA54B0CF0A3E44B,
            0x434A66DBEE053CBF,
            0x0CF40223FF1A8BD8,
        ],
        // White Rook
        [
            0x5CEA314F946408C4,
            0x7FEFAD70BD32B467,
            0x539F594CA7FDDE43,
            0x0FB360B02746F412,
            0x7C3C46F1D7866925,
            0x6EA1E15A0CB00A63,
            0x496F0000F8046E09,
            0x29A822613CE688BD,
            0x01A15C2EE22503C1,
            0x1A15C2EE22503C10,
            0x2842F8F6C138B90F,
            0x1F0CF5513FC618E1,
            0x79D18307185AF61F,
            0x307DBE36F179F9C3,
            0x15E64F46DFE96C2E,
            0x50706F8AB94492EA,
            0x31400CD1CCD23E82,
            0x063D61350555183E,
            0x63D61350555183E0,
            0x191A6D56C5F5DE3C,
            0x18B80378BB669BCF,
            0x029EE19F5252C4FF,
            0x29EE19F5252C4FF0,
            0x05C2E56F7E897711,
            0x5C2E56F7E8977110,
            0x73A9D6F772052927,
            0x10F2ACC3F76D2246,
            0x013E57D83100746A,
            0x13E57D83100746A0,
            0x304343D647A63A0A,
            0x1609914DB21550BE,
            0x6E8D8F3C66875BEA,
            0x4BA9E6665B717699,
            0x05C6440B0BB701BD,
            0x5C6440B0BB701BD0,
            0x7708B2824C738527,
            0x5AE4EB901007E246,
            0x1F020088FB0C1C47,
            0x793EDE9B54FABC7F,
            0x3E8867F23B7D5FC3,
            0x7DB19EF9DC4A242B,
            0x767C61DAB074DA83,
            0x4DA9DE1FD0721806,
            0x65C5C393BB81E84D,
            0x7827616828F364EC,
            0x2F1398C5FBE0D6F3,
            0x6A1AF6629240E721,
            0x02DE7389170ABA29,
            0x2DE7389170ABA290,
            0x4550F32A26F7A111,
            0x6D5D5D3F70335138,
            0x76A4C6573031DBB9,
            0x4023A6C7D4220BA6,
            0x3A6803E05D69FA48,
            0x33B7DFDFBD007C9B,
            0x294051D2187139AE,
            0x0F26671CAB5E12F1,
            0x756C3C3916080715,
            0x7CAC0025B7BFC166,
            0x67A58C1C0F2A8E53,
            0x5E2399936245050C,
            0x537520BFDF2268E7,
            0x0114FF87AABD9E52,
            0x114FF87AABD9E520,
        ],
        // White Queen
        [
            0x4BD0BD1C717D0AF5,
            0x0253F3A9AB70C77D,
            0x253F3A9AB70C77D0,
            0x4FDA9E65FF63DD14,
            0x42F1C4314A9DB96D,
            0x174E2C89B692D6F8,
            0x7AF6537C2EFF3F8A,
            0x0200B9859B256093,
            0x200B9859B2560930,
            0x1C90B255AAC43314,
            0x4015F34E4878494F,
            0x390D5B7998CDD4D8,
            0x05E25643E742959B,
            0x5E25643E742959B0,
            0x531AFA6EB9E7A327,
            0x07E95291C6E12252,
            0x7E95291C6E122520,
            0x44371F8195F4CA33,
            0x7B2397844005E318,
            0x1F5CF6037488A9B3,
            0x7CD1B623ACB1E33F,
            0x607EEC7DBFC8ABC3,
            0x23959F886C675C0C,
            0x2570CF4849D160D4,
            0x4B25C34A12B2AD54,
            0x0D0416CF978ABD6D,
            0x574B210ADB42FED5,
            0x42F4E4D7ECB4FD72,
            0x171C22E3D4069708,
            0x7FD6B5DA07BB208A,
            0x500ED3E70F649093,
            0x36ABCA0AAED21912,
            0x78810C832557613E,
            0x2575467521A08BD3,
            0x4B7D509C95AC1D24,
            0x088D2BA7E661BA6D,
            0x0FD8F78DC5F28ED5,
            0x7A85352FFCC1C555,
            0x0536DCB8B8CACD63,
            0x536DCB8B8CACD630,
            0x009A4CC292567322,
            0x09A4CC2925673220,
            0x1D468F61F59A0A05,
            0x5D76200BBD9BD85F,
            0x662EB93222CFBDD7,
            0x4690CB71BC163D4C,
            0x515ED886DE2A94E8,
            0x23AB7C17BA325EA2,
            0x269EF6B52C814A34,
            0x75C65C9C47B00354,
            0x760A0A70AC3F8576,
            0x4ACF64BE14C7E756,
            0x13AE698FF0DE1D4D,
            0x34F203184A3384DA,
            0x5D1D9DAD6B4EBDBE,
            0x6095635F4F99E3C7,
            0x2D2D6DA76973DC4C,
            0x49F5A04BBB704CD1,
            0x200226D50BA4A53D,
            0x1C0B5A9E35EEF3C4,
            0x49AB7FF7BAD4444F,
            0x25EFDD1511E42CDD,
            0x42D4E69F91E66DC4,
            0x151C0664012F9C68,
        ],
        // White King
        [
            0x729F29E85E560CA6,
            0x039D5D31325F7A56,
            0x39D5D31325F7A560,
            0x086AD0E834E58E1B,
            0x01A74370EDB1C9B5,
            0x1A74370EDB1C9B50,
            0x2E5DA6F955F2CD0F,
            0x7EF915A8736158E1,
            0x42F4D4C042C31623,
            0x171F239933782218,
            0x7FE6A2747050718A,
            0x530FA90071D18093,
            0x06BC647D45831912,
            0x6BC647D458319120,
            0x1F1568E5B01DDA39,
            0x7848584FE5E6DB9F,
            0x29E00AB92ABB21C3,
            0x0523D1AF87FF9421,
            0x523D1AF87FF94210,
            0x15975BFDA70F3122,
            0x5761243D3721422A,
            0x4054B7A92A8F3282,
            0x3D19150FB7BA6808,
            0x44A6B1211039589B,
            0x72397D8C1CDCC998,
            0x09F81B751AF329B6,
            0x188BFAA20CDBB365,
            0x01A17C3429804E5F,
            0x1A17C3429804E5F0,
            0x2862E23D6475270F,
            0x1D0D59EB6B1FF8E1,
            0x59CB48A255C4F61F,
            0x2DF833ACA73D59D7,
            0x44A040F75F981561,
            0x725660E8E6C81638,
            0x0F09CD3ABBBED3B6,
            0x77969E5818041365,
            0x53062635577E8666,
            0x0624972F2F737642,
            0x624972F2F7376420,
            0x00EC777CE39BA23C,
            0x0EC777CE39BA23C0,
            0x6B7D3110384B1405,
            0x14A204A3B7B58869,
            0x4434D1DC3C8AD69A,
            0x7B1F725ED7E42988,
            0x1C92ABAA0A9400B3,
            0x40346CB44D7B733F,
            0x3B14A4D9C8FE73D8,
            0x247DAC46E478E59B,
            0x5BF3F3A0C82AF9A4,
            0x0E73838579DDA267,
            0x603275A43E330E75,
            0x275C021073DD076C,
            0x69E916C9B274D6D4,
            0x3DE0793B1449A579,
            0x4B30726B2F058F8B,
            0x0C5F04DC4CF8909D,
            0x42FA00376C6021D5,
            0x17F26CEBD94B5D78,
            0x7132555AD367878A,
            0x394A9619E147C896,
            0x019E80447FE3517B,
            0x19E80447FE3517B0,
        ],
    ],
    [
        // Black Pawn
        [
            0x29E4A33F6E383BBC,
            0x056949CBCFCE33D1,
            0x56949CBCFCE33D10,
            0x5F0F3FB596A8C122,
            0x41BF42D091FE2A07,
            0x23A6429400ABE058,
            0x264D1E8E851AA594,
            0x78F8DF26DE0EF954,
            0x22E87C2A94390D73,
            0x32AEF567CC347724,
            0x38D2FA550B31825E,
            0x1818448AD887FDFB,
            0x089A9EB96C44A7BF,
            0x0EA3A66567A353F5,
            0x6D302BA5D9DC1755,
            0x7073AFFDAEC5BD69,
            0x2D553C6E3B6466A6,
            0x4E70BCDE9A0BE271,
            0x5853EF871C1E4F3D,
            0x347241F83A96CBF7,
            0x5519B3AA611A4F6E,
            0x67DDCEDC493FE6C2,
            0x59A7B59703138C1C,
            0x2B37E0F9CA4AF9E7,
            0x285D75A188E21661,
            0x1EF42025A26CEE01,
            0x665CD44EC2F5981F,
            0x41B61CBFBFB461CC,
            0x2333A466E40F5CE8,
            0x2F1371A0CF516E94,
            0x6A146031D95B6151,
            0x023716BDA6B2DD29,
            0x23716BDA6B2DD290,
            0x2B3F8A683D798914,
            0x28DBDCBEFBD51951,
            0x169EB1D2911C1D01,
            0x67FF86CE5613801A,
            0x5B8334B6F1D5E19C,
            0x097FF2E6E62C21E7,
            0x10F5639DC12B3675,
            0x0142A23B5561375A,
            0x142A23B5561375A0,
            0x4CB6A0B226E50A0A,
            0x7432294CD2F0C88D,
            0x694D5779F83338E6,
            0x37A4623FB0374659,
            0x687B8FD2CB02958E,
            0x24C9E88C832D90D9,
            0x50B7BF06BD7DAD84,
            0x3D3D04118F41C862,
            0x46E7A0C29F835E3B,
            0x562863B4E77CA398,
            0x54C0CF342F5129A2,
            0x7A4A0738AD898A02,
            0x09C5FDCDAC4E3813,
            0x1B559129670AA935,
            0x3C47C4829491EB5F,
            0x514BA9F322816DEB,
            0x22FC6B48708DCE92,
            0x33EF834987784934,
            0x2CC598B1BFF2635E,
            0x577AF126D36BBDF1,
            0x41E9E6176E20CF32,
            0x26CC0EEBFD45B308,
        ],
        // Black Knight
        [
            0x10AB37CB41133DEF,
            0x04A7E75356E18EFA,
            0x4A7E75356E18EFA0,
            0x18BF71385D2E922D,
            0x02E9C59136D25ADF,
            0x2E9C59136D25ADF0,
            0x72E6EB0BFE175711,
            0x0401730B364AC126,
            0x401730B364AC1260,
            0x392164AB55886628,
            0x0721AB6F3319BA9B,
            0x721AB6F3319BA9B0,
            0x0BC4AC87CE852B36,
            0x3B40858F4BBB9B65,
            0x213FB92ED0266E4B,
            0x0FD2A5238DC244A4,
            0x7A201FCB7FCD6245,
            0x0F6472F08800BC63,
            0x714D62FB23E2EE35,
            0x3EB9EC06E9115366,
            0x7EA921B4FA8AEE7B,
            0x47F79508DC787F83,
            0x472B3F10D8CEB818,
            0x4AE19E9093A2C1A8,
            0x1141CB67868C72AD,
            0x1A082D9F2F157ADA,
            0x299C0FE6156CD5AF,
            0x02E3845C7A80D2E1,
            0x2E3845C7A80D2E10,
            0x78A72647AC9F6911,
            0x2717EA3DBD200923,
            0x6D5794155DA43224,
            0x760854F5E947EA79,
            0x4AEA8CEA434117A6,
            0x11F0ECCA88B1124D,
            0x111A574FCCC374DA,
            0x1FB1EF1B8BE51DAA,
            0x720027AC5A6AA2AF,
            0x0A6DB97171959AC6,
            0x21D1DAE4BAB08465,
            0x0134998524ACE644,
            0x134998524ACE6440,
            0x3A8D1EC3EB34140A,
            0x3DE60DE4D8DE98BB,
            0x4B573F97E67653AB,
            0x0A2BDB10DBC5529D,
            0x25B7FCFE1FBC01D5,
            0x4756F82F7464BD44,
            0x4D3DED6A59029468,
            0x6C86F4CB2C892EAD,
            0x6B1E5912FB9622E9,
            0x1294848F8A66E6A9,
            0x275CD31FE1BC3A9A,
            0x69E40630946709B4,
            0x3D3176A975745379,
            0x46208B4D3CDAEF8B,
            0x5A5ADB4ED2E7B898,
            0x14E10D64D509B1A7,
            0x40044DAA17494A7A,
            0x3816B53C6BDDE788,
            0x145CB21CD641A09B,
            0x4BDFBA2A23C859BA,
            0x02A380CC8025F38D,
            0x2A380CC8025F38D0,
        ],
        // Black Bishop
        [
            0x0791BB98A40A3FDE,
            0x791BB98A40A3FDE0,
            0x3CDE16E37EE94633,
            0x58D68FED850BBB2B,
            0x3C244751ABC98A97,
            0x577394C0D707716B,
            0x417FB87728EC0692,
            0x2FA9E8EF91892908,
            0x61BDF4C434DF1891,
            0x3FA41410DD1C692C,
            0x6F76A0D7BA594ADB,
            0x541B18DB96906589,
            0x77F779C3319D48B2,
            0x55185F87CEEB3B16,
            0x67C30C06B628A142,
            0x584B9838F267F41C,
            0x35F53A06DD0D79E7,
            0x4D6E0C4418A16E6E,
            0x69B8E62F36B68ECD,
            0x38FF7753586C24E9,
            0x1AC094EFED5D968B,
            0x251798EA31E210BF,
            0x4D50B96D9185ABE4,
            0x6A53B4B7A4FAD66D,
            0x064A5EDA7CA9AEE9,
            0x64A5EDA7CA9AEE90,
            0x6E25822F3943093C,
            0x41293753A7345BF9,
            0x2AC11AA76C0CFFB8,
            0x3732D04BEC827391,
            0x6110A8970051C90E,
            0x3571D12395F170DC,
            0x4520BE109761FDDE,
            0x6A598E9469569DC8,
            0x06E9FCE6A66D14B9,
            0x6E9FCE6A66D14B90,
            0x4A8DF3065E107139,
            0x1787120B5DA77BBD,
            0x7665BB529DA5EBDA,
            0x4C34769D0D610D96,
            0x7C1F4BBE6AB0B14D,
            0x6C9135A1DFDD8CE3,
            0x6A624FBDCEDC0609,
            0x0555EE7CDEC4A8A9,
            0x555EE7CDEC4A8A90,
            0x63A888A49C33B922,
            0x1EF3D21A53D6721C,
            0x6623F7B1D95C59CF,
            0x4644234E05287CCC,
            0x5C105B7D4DCE8CE8,
            0x70490E5D279AF6A7,
            0x2EFF2666AE90DA46,
            0x74D11C57C5402C71,
            0x677E06C8833D7726,
            0x539B34DBA33A925C,
            0x0FF5B9C06B3235E2,
            0x7851D1F510CA7625,
            0x287891167871FA63,
            0x1CAA6B5AAB522E21,
            0x43B863BE51199A1F,
            0x03D454780ED0E1D8,
            0x3D454780ED0E1D80,
            0x416399D4BB7E001B,
            0x2E6BF2D6A8A94198,
        ],
        // Black Rook
        [
            0x62341E231F453149,
            0x073ABA6264BEF4AC,
            0x73ABA6264BEF4AC0,
            0x10D5A1D069CB1C36,
            0x034E86E1DB63936A,
            0x34E86E1DB63936A0,
            0x5CBB4DF2ABE59A1E,
            0x7AF866A3452B99C7,
            0x02E3E473266F0443,
            0x2E3E473266F04430,
            0x78C7091B4349CB11,
            0x21151FF3404A2923,
            0x0D78C8FA8B063224,
            0x5086C25B138A0A45,
            0x3E2AD1CB603BB472,
            0x779AFD6C68249F3B,
            0x53C0157255764386,
            0x0A47A35F0FFF2842,
            0x237078035C1BAC25,
            0x2B2EB7FB4E1E6244,
            0x29C80589CDABAC51,
            0x07A322A1F6F74D01,
            0x7A322A1F6F74D010,
            0x0E472FB1839B9933,
            0x6378B6EB9A50BB35,
            0x13F036EA35E6536C,
            0x3117F54419B766CA,
            0x0342F86853009CBE,
            0x342F86853009CBE0,
            0x50C5C47AC8EA4E1E,
            0x3A1AB3D6D63FF1C2,
            0x349CDCB70860C43B,
            0x5BF067594E7AB3AE,
            0x0E4ACC1D1CD902C7,
            0x63A68C226E790475,
            0x1E139A75777DA76C,
            0x6827714393E10ECF,
            0x210601990D1424C9,
            0x0C492E5E5EE6EC84,
            0x4398A8164D87E045,
            0x01D8EEF9C7374478,
            0x1D8EEF9C73744780,
            0x51F02FD3D37F000F,
            0x294409476F6B10D2,
            0x0F63EE4BDAFC8531,
            0x7134A94E0C217B15,
            0x3925575415280166,
            0x0762949B391FCE7B,
            0x762949B391FCE7B0,
            0x48FB588DC8F1CB36,
            0x30EDAAB233BCDB4D,
            0x1CE7070AF3BB44CE,
            0x476EA6BBDF8F34EF,
            0x4EB80420E7BA0ED8,
            0x54D86060C70085AD,
            0x7BC0F27628934AF2,
            0x116AA925FDE23713,
            0x18BE09B899F1213A,
            0x02FE4D9D7B296BAF,
            0x2FE4D9D7B296BAF0,
            0x656EE74605262711,
            0x72952C33C28F912C,
            0x033D0088FFC6A2F6,
            0x33D0088FFC6A2F60,
        ],
        // Black Queen
        [
            0x750E9270FA5C3378,
            0x7A86E4BB72FC87B6,
            0x050BC5F05B1EE353,
            0x50BC5F05B1EE3530,
            0x3D83042146784322,
            0x4D07A3CE0C1BEA3B,
            0x6F221E8E7D1ECB9D,
            0x5150FD47E2E871E9,
            0x23492004761C0EB2,
            0x28BB3789EE644B34,
            0x109002A3CA093B51,
            0x0714B1DBE741E51A,
            0x714B1DBE741E51A0,
            0x3EDE185396DAAA36,
            0x78D664E306357B7B,
            0x2003C07717812F83,
            0x1C1530BFF7B65824,
            0x484DDDEB9F5EFA4F,
            0x3B85FCD7494FCCDD,
            0x2D682CAEFF6315CB,
            0x4DA1B0D2DA7CD4A1,
            0x65432F431B6D223D,
            0x7049AC62263FC3EC,
            0x2EF50596B4C38EF6,
            0x7473235660756771,
            0x6D5DF6D2D069C726,
            0x76AE788D3598BA59,
            0x40884B678EB415A6,
            0x30D6D9E5F4081A48,
            0x1F50327688F7549E,
            0x7C1DF17C6B4E31EF,
            0x6CBA9981C03586C3,
            0x68D88DBC305CA409,
            0x2EF9CE6336CE88A9,
            0x74BF9C0E40A50281,
            0x61960350DD6F9826,
            0x3D1B6D5E4614625C,
            0x4481343E0AD9FDDB,
            0x70412C7DB2D69D98,
            0x2E7D046FFA5669B6,
            0x7CF33CC2892B1371,
            0x6256426FE667AF23,
            0x011F7EADF697120C,
            0x11F7EADF697120C0,
            0x116A3611D0C05C0A,
            0x18B7FAFA4BD790AA,
            0x026179B0594272AF,
            0x26179B0594272AF0,
            0x7D508797CDD60F14,
            0x786DF73BA9B66973,
            0x2BBAFDFDEFB00F03,
            0x208CA5E3D74D7821,
            0x14E369F3FB732204,
            0x402204D8F0E0704A,
            0x3A722212114E4488,
            0x3215C0FB7F7B909B,
            0x3361A39E3FCFF9AE,
            0x242795CA34896AFE,
            0x5E506B6DC7320FF4,
            0x544A0F558852C767,
            0x72E60122DDB76652,
            0x040FD1990C49D516,
            0x40FD1990C49D5160,
            0x3783F691569C5628,
        ],
        // Black King
        [
            0x4C410684D577352B,
            0x7B484A23EBD33A9D,
            0x19E12C79C9E531E3,
            0x170C11887A68663F,
            0x7ED58360E15433FA,
            0x403DB8496195A793,
            0x3B89EB0B06133918,
            0x2DA9516A0AAC499B,
            0x41B66C9D868911A1,
            0x2334A64577D85A38,
            0x2F635399F2210394,
            0x6D1643A20E5DB151,
            0x72152F80D6DFDD29,
            0x0B3D3BB9BAC262A6,
            0x34D9F6680FCF0265,
            0x5FA2CAA93486D64E,
            0x4B60131AB31F5CC7,
            0x095913C58D55A45D,
            0x129B71AB76B36DD5,
            0x27A381502CE48D5A,
            0x661122CC41EC75B4,
            0x456974978E2ABB7C,
            0x6EC526E5FDE2F7E8,
            0x4F237BFFED2BB6B9,
            0x4D6F9D906E1B03BD,
            0x69A1FB685D1053FD,
            0x396EA325E201F7E9,
            0x03DDD3844B80A68B,
            0x3DDD3844B80A68B0,
            0x48E46591EB39531B,
            0x311E7B700F35599D,
            0x03DA1B293B2369CE,
            0x3DA1B293B2369CE0,
            0x4F2CC8E148F6161B,
            0x4D94AC7A33C1099D,
            0x6612E5CD80B0F1FD,
            0x4555048B9BE2FFEC,
            0x6D022724A166BEE8,
            0x735367EA256F26B9,
            0x1F59BD1681CDDBA6,
            0x7C85077CF8E6C26F,
            0x6535F988FABABEC3,
            0x7724C0DC3B460C0C,
            0x5823CE77635F70F6,
            0x33705EFFCE853747,
            0x253843D52025846E,
            0x4FAD0A9C8DFCE6F4,
            0x45888BA6636E076D,
            0x60DAD5FB29A936F8,
            0x29D607E10A7E8FBC,
            0x0643042D8BA573D1,
            0x643042D8BA573D10,
            0x677F75D8359E313C,
            0x538C05D0C90EF3FC,
            0x0E86A976C8742FE2,
            0x6F60DA9F24ABD625,
            0x557CBC5279B9AA69,
            0x618D315DC301B6B2,
            0x3CA84D8FA0F68B1C,
            0x5FB3392064F769DB,
            0x4A7F2B8FB404A597,
            0x18AA9A95FCEA315D,
            0x03B77F4B2A986DDF,
            0x3B77F4B2A986DDF0,
        ],
    ],
];

#[allow(clippy::unreadable_literal)]
static EN_PASSANT: [u64; 8] = [
    0x453FE1EAAF679480,
    0x0D758E26FD260105,
    0x484A6FCC52419585,
    0x1AEB1C4DFA4C020A,
    0x5FD4FDA7552B968A,
    0x179E926B076A030F,
    0x52A17381A80D978F,
    0x35D6389BF4980414,
];

#[allow(clippy::unreadable_literal)]
static CASTLING: [u64; 4] = [0x6BAC7137E9300828, 0x5052AF9C71893855, 0x27AF12CB40FB58AF, 0x4F5E259681F6B15E];

#[allow(clippy::unreadable_literal)]
static COLOUR: u64 = 0x336C0DBD40089572;

#[derive(Clone)]
pub struct Zobrist;

impl Zobrist {
    pub fn add_piece(colour: Colour, piece: Piece, square: Square, hash: &mut u64) {
        *hash ^= PIECE[colour as usize][piece as usize][square.into_inner() as usize];
    }

    pub fn remove_piece(colour: Colour, piece: Piece, square: Square, hash: &mut u64) {
        *hash ^= PIECE[colour as usize][piece as usize][square.into_inner() as usize];
    }

    pub fn move_piece(colour: Colour, piece: Piece, from_square: Square, to_square: Square, hash: &mut u64) {
        *hash ^= PIECE[colour as usize][piece as usize][from_square.into_inner() as usize]
            ^ PIECE[colour as usize][piece as usize][to_square.into_inner() as usize];
    }

    pub fn set_ep(old: Option<Square>, new: Option<Square>, hash: &mut u64) {
        if let Some(ep) = old {
            *hash ^= EN_PASSANT[File::from(ep) as usize];
        }
        if let Some(ep) = new {
            *hash ^= EN_PASSANT[File::from(ep) as usize];
        }
    }

    pub fn add_castling(kind: usize, hash: &mut u64) {
        *hash ^= CASTLING[kind];
    }

    pub fn remove_castling(kind: usize, hash: &mut u64) {
        *hash ^= CASTLING[kind];
    }

    pub fn toggle_side(hash: &mut u64) {
        *hash ^= COLOUR;
    }
}
